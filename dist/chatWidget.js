!function(){const n=document.createElement("style");n.innerHTML="\n    .bizzai-chat-button {\n      position: fixed;\n      bottom: 20px;\n      right: 20px;\n      z-index: 9999;\n      width: 60px;\n      height: 60px;\n      background-color: var(--bizzai-color, #4CAF50);\n      border-radius: 50%;\n      box-shadow: 0 4px 8px rgba(0,0,0,0.2);\n      color: white;\n      font-size: 30px;\n      text-align: center;\n      line-height: 60px;\n      cursor: pointer;\n    }\n    .bizzai-chat-box {\n      position: fixed;\n      bottom: 90px;\n      right: 20px;\n      width: var(--bizzai-width, 320px);\n      height: var(--bizzai-height, 400px);\n      border: 1px solid #ccc;\n      border-radius: 10px;\n      background: white;\n      display: flex;\n      flex-direction: column;\n      box-shadow: 0 6px 16px rgba(0,0,0,0.3);\n      overflow: hidden;\n      font-family: sans-serif;\n      z-index: 9999;\n    }\n    .bizzai-chat-header {\n      background: var(--bizzai-color, #4CAF50);\n      color: white;\n      padding: 10px;\n      font-weight: bold;\n    }\n    .bizzai-chat-messages {\n      flex: 1;\n      padding: 10px;\n      overflow-y: auto;\n      font-size: 14px;\n      display: flex;\n      flex-direction: column;\n    }\n    .bizzai-chat-message {\n      margin: 6px 0;\n      padding: 8px 12px;\n      border-radius: 12px;\n      max-width: 80%;\n      clear: both;\n      word-wrap: break-word;\n    }\n    .bizzai-user-message {\n      align-self: flex-end;\n      background-color: #DCF8C6;\n    }\n    .bizzai-bot-message {\n      align-self: flex-start;\n      background-color: #F1F0F0;\n    }\n    .bizzai-chat-input {\n      display: flex;\n      border-top: 1px solid #ddd;\n    }\n    .bizzai-chat-input input {\n      flex: 1;\n      border: none;\n      padding: 10px;\n      font-size: 14px;\n      outline: none;\n    }\n    .bizzai-chat-input button {\n      background: var(--bizzai-color, #4CAF50);\n      color: white;\n      border: none;\n      padding: 10px 16px;\n      cursor: pointer;\n    }\n  ",document.head.appendChild(n);const e={init({apiKey:n,backendUrl:e,color:t="#4CAF50",headerText:i="Chat with us",width:o="320px",height:a="400px"}){document.documentElement.style.setProperty("--bizzai-color",t),document.documentElement.style.setProperty("--bizzai-width",o),document.documentElement.style.setProperty("--bizzai-height",a);const r=document.createElement("div");r.className="bizzai-chat-button",r.innerText="💬",document.body.appendChild(r);const d=document.createElement("div");d.className="bizzai-chat-box",d.style.display="none",d.innerHTML=`\n        <div class="bizzai-chat-header">${i}</div>\n        <div class="bizzai-chat-messages" id="bizzai-chat-messages"></div>\n        <div class="bizzai-chat-input">\n          <input type="text" placeholder="Type a message..." />\n          <button>Send</button>\n        </div>\n      `,document.body.appendChild(d);const c=d.querySelector("#bizzai-chat-messages"),s=d.querySelector("input"),l=d.querySelector("button");function p(){const t=s.value.trim();t&&(h("user",t),s.value="",fetch(e,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({message:t})}).then((n=>n.json())).then((n=>h("bot",n.reply||"No reply"))).catch((()=>h("bot","⚠️ Could not connect to server."))))}function h(n,e){const t=document.createElement("div");t.className=`bizzai-chat-message bizzai-${n}-message`,t.textContent=e,c.appendChild(t),c.scrollTop=c.scrollHeight}r.onclick=()=>{const n="flex"===d.style.display;d.style.display=n?"none":"flex",r.innerText=n?"💬":"✖"},l.onclick=p,s.addEventListener("keypress",(n=>{"Enter"===n.key&&(n.preventDefault(),p())}))}};window.BizzAIChat=e}();