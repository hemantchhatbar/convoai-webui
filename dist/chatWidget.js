!function(){const e=document.createElement("style");e.innerHTML="\n    .bizzai-chat-button {\n      position: fixed;\n      bottom: 20px;\n      right: 20px;\n      z-index: 9999;\n      width: 60px;\n      height: 60px;\n      background-color: var(--bizzai-color, #4CAF50);\n      border-radius: 50%;\n      box-shadow: 0 4px 8px rgba(0,0,0,0.2);\n      color: white;\n      font-size: 30px;\n      text-align: center;\n      line-height: 60px;\n      cursor: pointer;\n    }\n    .bizzai-chat-box {\n      position: fixed;\n      bottom: 90px;\n      right: 20px;\n      width: var(--bizzai-width, 320px);\n      height: var(--bizzai-height, 400px);\n      border: 1px solid #ccc;\n      border-radius: 10px;\n      background: white;\n      display: flex;\n      flex-direction: column;\n      box-shadow: 0 6px 16px rgba(0,0,0,0.3);\n      overflow: hidden;\n      font-family: sans-serif;\n      z-index: 9999;\n    }\n    .bizzai-chat-header {\n      background: var(--bizzai-color, #4CAF50);\n      color: white;\n      padding: 10px;\n      font-weight: bold;\n    }\n    .bizzai-chat-messages {\n      flex: 1;\n      padding: 10px;\n      overflow-y: auto;\n      font-size: 14px;\n      display: flex;\n      flex-direction: column;\n    }\n    .bizzai-chat-message {\n      margin: 6px 0;\n      padding: 8px 12px;\n      border-radius: 12px;\n      max-width: 80%;\n      clear: both;\n      word-wrap: break-word;\n    }\n    .bizzai-user-message {\n      align-self: flex-end;\n      background-color: #DCF8C6;\n    }\n    .bizzai-bot-message {\n      align-self: flex-start;\n      background-color: #F1F0F0;\n    }\n    .bizzai-chat-input {\n      display: flex;\n      border-top: 1px solid #ddd;\n    }\n    .bizzai-chat-input input {\n      flex: 1;\n      border: none;\n      padding: 10px;\n      font-size: 14px;\n      outline: none;\n    }\n    .bizzai-chat-input button {\n      background: var(--bizzai-color, #4CAF50);\n      color: white;\n      border: none;\n      padding: 10px 16px;\n      cursor: pointer;\n    }\n  ",document.head.appendChild(e);const n={init({apiKey:e,backendUrl:n,color:t="#4CAF50",headerText:i="Chat with us",width:o="320px",height:a="400px"}){document.documentElement.style.setProperty("--bizzai-color",t),document.documentElement.style.setProperty("--bizzai-width",o),document.documentElement.style.setProperty("--bizzai-height",a);const r=document.createElement("div");r.className="bizzai-chat-button",r.innerText="ðŸ’¬",document.body.appendChild(r);const d=document.createElement("div");d.className="bizzai-chat-box",d.style.display="none",d.innerHTML=`\n        <div class="bizzai-chat-header">${i}</div>\n        <div class="bizzai-chat-messages" id="bizzai-chat-messages"></div>\n        <div class="bizzai-chat-input">\n          <input type="text" placeholder="Type a message..." />\n          <button>Send</button>\n        </div>\n      `,document.body.appendChild(d);const s=d.querySelector("#bizzai-chat-messages"),c=d.querySelector("input"),l=d.querySelector("button");function p(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}r.onclick=()=>{const e="flex"===d.style.display;d.style.display=e?"none":"flex",r.innerText=e?"ðŸ’¬":"âœ–"};let b=localStorage.getItem("bizzai-user-id");function z(){const t=c.value.trim();if(!t)return;h("user",t),c.value="";const i={userId:b,messageId:p(),messageType:"text",product:"ConvoAi-WebUI",category:"DM",messageText:t};fetch(n,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(i)}).then((e=>e.json())).then((e=>h("bot",e.reply||"No reply"))).catch((()=>h("bot","âš ï¸ Could not connect to server.")))}function h(e,n){const t=document.createElement("div");t.className=`bizzai-chat-message bizzai-${e}-message`,t.textContent=n,s.appendChild(t),s.scrollTop=s.scrollHeight}b||(b=p(),localStorage.setItem("bizzai-user-id",b)),l.onclick=z,c.addEventListener("keypress",(e=>{"Enter"===e.key&&(e.preventDefault(),z())}))}};window.BizzAIChat=n}();